/**
 * Mockæ•°æ®æœåŠ¡ - æä¾›æµ‹è¯•æ•°æ®
 */

import { Post, PostAuthor, PostLocation, PostComment } from '../models/Post';
import { City, CityMarker } from '../models/City';
import { User } from '../models/User';

// ==================== ç”¨æˆ·Mockæ•°æ® ====================

export const mockCurrentUser: User = {
  id: 'user_001',
  phone: '138****8888',
  nickname: 'æ¢é™©å®¶å°ä¸ƒ',
  avatar: '',
  bio: 'ç”¨è„šæ­¥ä¸ˆé‡ä¸–ç•Œï¼Œç”¨é•œå¤´è®°å½•ç¾å¥½',
  level: 3,
  levelTitle: 'æ´²é™…æ¢é™©å®¶',
  followingCount: 128,
  followersCount: 4500,
  friendsCount: 56,
  citiesCount: 42,
  countriesCount: 8,
  postsCount: 23,
  createdAt: '2024-01-01T00:00:00Z',
  updatedAt: '2024-12-01T00:00:00Z',
};

export const mockUsers: User[] = [
  {
    id: 'user_002',
    nickname: 'æ—…è¡Œè¾¾äºº',
    avatar: '',
    bio: 'ä¸–ç•Œé‚£ä¹ˆå¤§ï¼Œæˆ‘æƒ³å»çœ‹çœ‹',
    level: 4,
    levelTitle: 'ç¯çƒé¢†èˆªå‘˜',
    followingCount: 256,
    followersCount: 12000,
    friendsCount: 89,
    citiesCount: 86,
    countriesCount: 23,
    postsCount: 156,
    createdAt: '2023-06-01T00:00:00Z',
    updatedAt: '2024-12-01T00:00:00Z',
  },
  {
    id: 'user_003',
    nickname: 'æ‘„å½±å¸ˆé˜¿è±ª',
    avatar: '',
    bio: 'ç”¨å…‰å½±è®°å½•æ¯ä¸€åº§åŸ',
    level: 5,
    levelTitle: 'æ˜Ÿè€€æ¼«æ¸¸è€…',
    followingCount: 89,
    followersCount: 58000,
    friendsCount: 34,
    citiesCount: 120,
    countriesCount: 35,
    postsCount: 432,
    createdAt: '2022-01-01T00:00:00Z',
    updatedAt: '2024-12-01T00:00:00Z',
  },
];
// ==================== è¯„è®ºMockæ•°æ® ====================

export function getMockComments(postId: string): PostComment[] {
  return [
    {
      id: 'comment_001', postId: postId, userId: 'user_002', userNickname: 'æ—…è¡Œè¾¾äºº', userAvatar: '',
      content: 'å¤ªç¾äº†ï¼è¿™ä¸ªè§’åº¦æ‹å¾—çœŸæ£’ï¼', likeCount: 156, isLiked: false,
      createdAt: new Date(Date.now() - 3600000).toISOString(),
    },
    {
      id: 'comment_002', postId: postId, userId: 'user_003', userNickname: 'æ‘„å½±å¸ˆé˜¿è±ª', userAvatar: '',
      content: 'ç”¨çš„ä»€ä¹ˆè®¾å¤‡æ‹çš„ï¼Ÿæ±‚åˆ†äº«ï¼ğŸ“·', likeCount: 89, isLiked: false,
      createdAt: new Date(Date.now() - 7200000).toISOString(),
    },
    {
      id: 'comment_003', postId: postId, userId: 'user_004', userNickname: 'èƒŒåŒ…å®¢å°å‡¡', userAvatar: '',
      content: 'å·²åŠ å…¥æ—…è¡Œæ¸…å• ğŸ“', likeCount: 45, isLiked: true,
      createdAt: new Date(Date.now() - 10800000).toISOString(),
    },
    {
      id: 'comment_004', postId: postId, userId: 'user_005', userNickname: 'ç¾é£Ÿå®¶å¤§å®', userAvatar: '',
      content: 'ä¸‹æ¬¡ä¸€èµ·å»å‘€ï¼Œæ±‚ç»„é˜Ÿï¼', likeCount: 34, isLiked: false,
      createdAt: new Date(Date.now() - 14400000).toISOString(),
    },
    {
      id: 'comment_005', postId: postId, userId: 'user_001', userNickname: 'æ¢é™©å®¶å°ä¸ƒ', userAvatar: '',
      content: 'è¿™é‡Œçš„æ—¥è½æ˜¯æˆ‘è§è¿‡æœ€ç¾çš„ ğŸŒ…', likeCount: 267, isLiked: false,
      replyTo: { id: 'comment_001', authorName: 'æ—…è¡Œè¾¾äºº' },
      createdAt: new Date(Date.now() - 18000000).toISOString(),
    },
    {
      id: 'comment_006', postId: postId, userId: 'user_003', userNickname: 'æ‘„å½±å¸ˆé˜¿è±ª', userAvatar: '',
      content: 'æ„å›¾å¾ˆæœ‰æƒ³æ³•ï¼Œå­¦åˆ°äº†ï¼', likeCount: 22, isLiked: false,
      createdAt: new Date(Date.now() - 21600000).toISOString(),
    },
    {
      id: 'comment_007', postId: postId, userId: 'user_002', userNickname: 'æ—…è¡Œè¾¾äºº', userAvatar: '',
      content: 'ä½çš„å“ªä¸ªé…’åº—ï¼Ÿæ¨èä¸€ä¸‹', likeCount: 18, isLiked: false,
      createdAt: new Date(Date.now() - 36000000).toISOString(),
    },
  ];
}

// è·å–è½¬å‘ç”¨æˆ·åˆ—è¡¨
export function getShareUsers(): User[] {
  return [mockCurrentUser, ...mockUsers];
}
// ==================== åŠ¨æ€Mockæ•°æ® ====================

const mockAuthors: PostAuthor[] = [
  { id: 'user_001', nickname: 'æ¢é™©å®¶å°ä¸ƒ', avatar: '', level: 3, levelTitle: 'æ´²é™…æ¢é™©å®¶' },
  { id: 'user_002', nickname: 'æ—…è¡Œè¾¾äºº', avatar: '', level: 4, levelTitle: 'ç¯çƒé¢†èˆªå‘˜' },
  { id: 'user_003', nickname: 'æ‘„å½±å¸ˆé˜¿è±ª', avatar: '', level: 5, levelTitle: 'æ˜Ÿè€€æ¼«æ¸¸è€…' },
  { id: 'user_004', nickname: 'èƒŒåŒ…å®¢å°å‡¡', avatar: '', level: 2, levelTitle: 'åŸå¸‚çŒäºº' },
  { id: 'user_005', nickname: 'ç¾é£Ÿå®¶å¤§å®', avatar: '', level: 3, levelTitle: 'æ´²é™…æ¢é™©å®¶' },
];

export const mockPosts: Post[] = [
  {
    id: 'post_001',
    author: mockAuthors[0],
    content: 'é»„å±±å½’æ¥ä¸çœ‹å²³ï¼ŒçœŸçš„æ˜¯å¤ªç¾äº†ï¼äº‘æµ·ç¿»è…¾ï¼Œå¥‡æ¾æ€ªçŸ³ï¼Œä»¿ä½›ç½®èº«ä»™å¢ƒã€‚è¿™æ¬¡ç‰¹æ„èµ·äº†ä¸ªå¤§æ—©çœ‹æ—¥å‡ºï¼Œå€¼å›ç¥¨ä»·ï¼ğŸ“¸âœ¨',
    images: [
      'https://example.com/huangshan1.jpg',
      'https://example.com/huangshan2.jpg',
      'https://example.com/huangshan3.jpg',
      'https://example.com/huangshan4.jpg',
      'https://example.com/huangshan5.jpg',
      'https://example.com/huangshan6.jpg',
      'https://example.com/huangshan7.jpg',
      'https://example.com/huangshan8.jpg',
      'https://example.com/huangshan9.jpg',
    ],
    location: { cityId: 'city_huangshan', cityName: 'é»„å±±', address: 'å…‰æ˜é¡¶' },
    tags: ['é»„å±±', 'æ—…è¡Œ', 'æ‘„å½±'],
    likeCount: 1286,
    commentCount: 89,
    shareCount: 45,
    collectCount: 234,
    isLiked: false,
    isCollected: true,
    createdAt: new Date(Date.now() - 2 * 3600000).toISOString(),
    type: 'image',
    hotComments: [
      { id: 'hc_001', postId: 'post_001', userId: 'user_002', userNickname: 'æ—…è¡Œè¾¾äºº', userAvatar: '', content: 'å¤ªç¾äº†ï¼äº‘æµ·ç®€ç›´ç»äº† ğŸ¤©', likeCount: 156, isLiked: false, createdAt: new Date(Date.now() - 3600000).toISOString() },
      { id: 'hc_002', postId: 'post_001', userId: 'user_003', userNickname: 'æ‘„å½±å¸ˆé˜¿è±ª', userAvatar: '', content: 'è¯·é—®è¿™æ˜¯ä»€ä¹ˆæ—¶é—´æ®µæ‹çš„ï¼Ÿå…‰çº¿å¤ªæ£’äº†', likeCount: 89, isLiked: false, createdAt: new Date(Date.now() - 5400000).toISOString() },
    ],
  },
  {
    id: 'post_002',
    author: mockAuthors[1],
    content: 'å·´é»çš„å¤œæ™šï¼ŒåŸƒè²å°”é“å¡”é—ªçƒçš„ç¯å…‰çœŸçš„å¤ªæµªæ¼«äº†ï¼ç«™åœ¨å¡çº³æ²³è¾¹ï¼Œå¬ç€è¡—å¤´è‰ºäººçš„æ‰‹é£ç´ï¼Œæ„Ÿè§‰æ•´ä¸ªä¸–ç•Œéƒ½æ…¢ä¸‹æ¥äº†ã€‚',
    images: [
      'https://example.com/paris1.jpg',
      'https://example.com/paris2.jpg',
      'https://example.com/paris3.jpg',
    ],
    location: { cityId: 'city_paris', cityName: 'å·´é»', address: 'åŸƒè²å°”é“å¡”' },
    tags: ['å·´é»', 'æ³•å›½', 'å¤œæ™¯'],
    likeCount: 3456,
    commentCount: 178,
    shareCount: 89,
    collectCount: 567,
    isLiked: true,
    isCollected: false,
    createdAt: new Date(Date.now() - 5 * 3600000).toISOString(),
    type: 'image',
    hotComments: [
      { id: 'hc_003', postId: 'post_002', userId: 'user_004', userNickname: 'èƒŒåŒ…å®¢å°å‡¡', userAvatar: '', content: 'å·´é»æ˜¯æˆ‘çš„æ¢¦æƒ³ä¹‹åœ°ï¼Œå¥½ç¼¡æ…•ï¼', likeCount: 234, isLiked: false, createdAt: new Date(Date.now() - 14400000).toISOString() },
    ],
  },
  {
    id: 'post_003',
    author: mockAuthors[2],
    content: 'ä¸œäº¬çš„æ¶©è°·åå­—è·¯å£ï¼Œäººæ½®æ¶ŒåŠ¨å´äº•ç„¶æœ‰åºã€‚è¿™åº§åŸå¸‚çš„èŠ‚å¥è®©äººç€è¿·ï¼Œæ¯ä¸ªè§’è½éƒ½æœ‰æ•…äº‹ã€‚',
    images: [
      'https://example.com/tokyo1.jpg',
    ],
    location: { cityId: 'city_tokyo', cityName: 'ä¸œäº¬', address: 'æ¶©è°·' },
    tags: ['ä¸œäº¬', 'æ—¥æœ¬', 'åŸå¸‚'],
    likeCount: 2134,
    commentCount: 67,
    shareCount: 34,
    collectCount: 189,
    isLiked: false,
    isCollected: false,
    createdAt: new Date(Date.now() - 24 * 3600000).toISOString(),
    type: 'image',
    hotComments: [
      { id: 'hc_004', postId: 'post_003', userId: 'user_005', userNickname: 'ç¾é£Ÿå®¶å¤§å®', userAvatar: '', content: 'æ¶©è°·çš„æ‹‰é¢å¿…é¡»å®‰æ’ï¼â€œ', likeCount: 67, isLiked: false, createdAt: new Date(Date.now() - 43200000).toISOString() },
      { id: 'hc_005', postId: 'post_003', userId: 'user_001', userNickname: 'æ¢é™©å®¶å°ä¸ƒ', userAvatar: '', content: 'ä¸‹æ¬¡å»ä¸œäº¬çº¦å§ï¼', likeCount: 45, isLiked: true, createdAt: new Date(Date.now() - 50000000).toISOString() },
    ],
  },
  {
    id: 'post_004',
    author: mockAuthors[3],
    content: 'æˆéƒ½çš„æ˜¥ç†™è·¯ï¼Œå¤ªå¤é‡Œèµ°ä¸€èµ°ï¼Œæ„Ÿå—è¿™åº§åŸå¸‚çš„æ‚ é—²ä¸æ—¶å°šçš„å®Œç¾èåˆã€‚æ™šä¸Šå¿…é¡»æ¥ä¸€é¡¿æ­£å®—ç«é”…ï¼ğŸŒ¶ï¸',
    images: [
      'https://example.com/chengdu1.jpg',
      'https://example.com/chengdu2.jpg',
    ],
    location: { cityId: 'city_chengdu', cityName: 'æˆéƒ½', address: 'å¤ªå¤é‡Œ' },
    tags: ['æˆéƒ½', 'ç¾é£Ÿ', 'ç«é”…'],
    likeCount: 876,
    commentCount: 45,
    shareCount: 23,
    collectCount: 156,
    isLiked: false,
    isCollected: false,
    createdAt: new Date(Date.now() - 48 * 3600000).toISOString(),
    type: 'image',
    hotComments: [
      { id: 'hc_006', postId: 'post_004', userId: 'user_002', userNickname: 'æ—…è¡Œè¾¾äºº', userAvatar: '', content: 'å¤ªå¤é‡Œçš„å°ç†ŠçŒ«å’–å•¡å¾ˆä¸é”™ï¼Œæ¨èï¼', likeCount: 112, isLiked: false, createdAt: new Date(Date.now() - 100000000).toISOString() },
    ],
  },
  {
    id: 'post_005',
    author: mockAuthors[4],
    content: 'è¥¿å®‰çš„å…µé©¬ä¿‘ï¼Œä¸¤åƒå¹´å‰çš„å¥‡è¿¹ã€‚æ¯ä¸€ä¸ªé™¶ä¿‘éƒ½æ ©æ ©å¦‚ç”Ÿï¼Œç«™åœ¨å‘è¾¹ï¼Œä»¿ä½›èƒ½å¬åˆ°å½“å¹´çš„æˆ˜é©¬å˜¶é¸£ã€‚å†å²çš„åšé‡æ„Ÿæ‰‘é¢è€Œæ¥ã€‚',
    images: [
      'https://example.com/xian1.jpg',
      'https://example.com/xian2.jpg',
      'https://example.com/xian3.jpg',
      'https://example.com/xian4.jpg',
    ],
    location: { cityId: 'city_xian', cityName: 'è¥¿å®‰', address: 'ç§¦å§‹çš‡å…µé©¬ä¿‘åšç‰©é¦†' },
    tags: ['è¥¿å®‰', 'å†å²', 'å…µé©¬ä¿‘'],
    likeCount: 1567,
    commentCount: 78,
    shareCount: 56,
    collectCount: 345,
    isLiked: true,
    isCollected: true,
    createdAt: new Date(Date.now() - 72 * 3600000).toISOString(),
    type: 'image',
    hotComments: [
      { id: 'hc_007', postId: 'post_005', userId: 'user_003', userNickname: 'æ‘„å½±å¸ˆé˜¿è±ª', userAvatar: '', content: 'å…µé©¬ä¿‘çš„è§„æ¨¡çœŸçš„éœ‡æ’¼äººå¿ƒï¼Œå¼ºçƒˆæ¨èå®åœ°æ„Ÿå—ï¼', likeCount: 198, isLiked: false, createdAt: new Date(Date.now() - 200000000).toISOString() },
      { id: 'hc_008', postId: 'post_005', userId: 'user_004', userNickname: 'èƒŒåŒ…å®¢å°å‡¡', userAvatar: '', content: 'æˆ‘ä¸Šæ¬¡å»çš„æ—¶å€™èµ¶ä¸Šè¿˜åœ¨ä¿®å¤ï¼Œæ²¡çœ‹å…¨ ğŸ˜¢', likeCount: 76, isLiked: false, createdAt: new Date(Date.now() - 220000000).toISOString() },
    ],
  },
];

// ==================== åŸå¸‚Mockæ•°æ® ====================

export const mockCities: City[] = [
  {
    id: 'city_paris',
    name: 'å·´é»',
    nameEn: 'Paris',
    country: 'æ³•å›½',
    countryCode: 'FR',
    province: 'æ³•å…°è¥¿å²›',
    coverImage: 'https://example.com/paris_cover.jpg',
    latitude: 48.8566,
    longitude: 2.3522,
    description: 'æµªæ¼«ä¹‹éƒ½ï¼Œè‰ºæœ¯ä¸æ—¶å°šçš„äº¤æ±‡ç‚¹ã€‚åŸƒè²å°”é“å¡”ã€å¢æµ®å®«ã€å¡çº³æ²³ç•”ï¼Œæ¯ä¸€å¤„éƒ½æ•£å‘ç€ç‹¬ç‰¹çš„é­…åŠ›ã€‚',
    postsCount: 12456,
    visitorsCount: 8934,
    isUnlocked: false,
  },
  {
    id: 'city_tokyo',
    name: 'ä¸œäº¬',
    nameEn: 'Tokyo',
    country: 'æ—¥æœ¬',
    countryCode: 'JP',
    coverImage: 'https://example.com/tokyo_cover.jpg',
    latitude: 35.6762,
    longitude: 139.6503,
    description: 'ä¼ ç»Ÿä¸ç°ä»£çš„å®Œç¾èåˆï¼Œä»å¤è€çš„æµ…è‰å¯ºåˆ°ç¹åçš„æ¶©è°·ï¼Œæ¯ä¸€åˆ»éƒ½æ˜¯æƒŠå–œã€‚',
    postsCount: 15678,
    visitorsCount: 11234,
    isUnlocked: true,
  },
  {
    id: 'city_newyork',
    name: 'çº½çº¦',
    nameEn: 'New York',
    country: 'ç¾å›½',
    countryCode: 'US',
    province: 'çº½çº¦å·',
    coverImage: 'https://example.com/newyork_cover.jpg',
    latitude: 40.7128,
    longitude: -74.0060,
    description: 'æ°¸ä¸çœ æ¯çš„åŸå¸‚ï¼Œè‡ªç”±å¥³ç¥åƒè§è¯ç€æ— æ•°æ¢¦æƒ³çš„èµ·èˆªã€‚',
    postsCount: 23456,
    visitorsCount: 15678,
    isUnlocked: false,
  },
  {
    id: 'city_chengdu',
    name: 'æˆéƒ½',
    nameEn: 'Chengdu',
    country: 'ä¸­å›½',
    countryCode: 'CN',
    province: 'å››å·çœ',
    coverImage: 'https://example.com/chengdu_cover.jpg',
    latitude: 30.5728,
    longitude: 104.0668,
    description: 'å¤©åºœä¹‹å›½ï¼Œç†ŠçŒ«çš„æ•…ä¹¡ã€‚æ‚ é—²çš„ç”Ÿæ´»èŠ‚å¥ï¼Œè®©äººæµè¿å¿˜è¿”çš„ç¾é£Ÿã€‚',
    postsCount: 8765,
    visitorsCount: 6543,
    isUnlocked: true,
  },
  {
    id: 'city_huangshan',
    name: 'é»„å±±',
    nameEn: 'Huangshan',
    country: 'ä¸­å›½',
    countryCode: 'CN',
    province: 'å®‰å¾½çœ',
    coverImage: 'https://example.com/huangshan_cover.jpg',
    latitude: 30.1375,
    longitude: 118.1694,
    description: 'äº”å²³å½’æ¥ä¸çœ‹å±±ï¼Œé»„å±±å½’æ¥ä¸çœ‹å²³ã€‚äº‘æµ·ã€å¥‡æ¾ã€æ€ªçŸ³ã€æ¸©æ³‰ï¼Œå››ç»é—»åå¤©ä¸‹ã€‚',
    postsCount: 5678,
    visitorsCount: 4321,
    isUnlocked: true,
  },
  {
    id: 'city_xian',
    name: 'è¥¿å®‰',
    nameEn: "Xi'an",
    country: 'ä¸­å›½',
    countryCode: 'CN',
    province: 'é™•è¥¿çœ',
    coverImage: 'https://example.com/xian_cover.jpg',
    latitude: 34.3416,
    longitude: 108.9398,
    description: 'åä¸‰æœå¤éƒ½ï¼Œå†å²çš„æ²‰æ·€è®©è¿™åº§åŸå¸‚åšé‡è€Œè¿·äººã€‚å…µé©¬ä¿‘ã€å¤§é›å¡”ã€å›æ°‘è¡—...',
    postsCount: 7890,
    visitorsCount: 5678,
    isUnlocked: true,
  },
  {
    id: 'city_london',
    name: 'ä¼¦æ•¦',
    nameEn: 'London',
    country: 'è‹±å›½',
    countryCode: 'GB',
    coverImage: 'https://example.com/london_cover.jpg',
    latitude: 51.5074,
    longitude: -0.1278,
    description: 'é›¾éƒ½ä¼¦æ•¦ï¼Œå¤§æœ¬é’Ÿçš„é’Ÿå£°ç©¿è¶Šæ—¶ç©ºï¼Œæ³°æ™¤å£«æ²³è§è¯äº†å¸å›½çš„å…´è¡°ã€‚',
    postsCount: 11234,
    visitorsCount: 8765,
    isUnlocked: false,
  },
];

// åœ°å›¾æ ‡è®°
export const mockCityMarkers: CityMarker[] = mockCities.map((city: City): CityMarker => ({
  id: city.id,
  name: city.name,
  latitude: city.latitude,
  longitude: city.longitude,
  isUnlocked: city.isUnlocked,
  hasContent: city.postsCount > 0,
  type: city.postsCount > 10000 ? 'hot' : (city.isUnlocked ? 'normal' : 'fog'),
}));

// ==================== å·¥å…·å‡½æ•° ====================

/**
 * è·å–éšæœºåŸå¸‚ï¼ˆç›²ç›’æ‘‡ä¸€æ‘‡ï¼‰
 */
export function getRandomCity(): City {
  const index = Math.floor(Math.random() * mockCities.length);
  return mockCities[index];
}

/**
 * æ ¹æ®åŸå¸‚IDè·å–åŸå¸‚ä¿¡æ¯
 */
export function getCityById(cityId: string): City | undefined {
  return mockCities.find(city => city.id === cityId);
}

/**
 * è·å–åŸå¸‚ç›¸å…³çš„åŠ¨æ€
 */
export function getPostsByCityId(cityId: string): Post[] {
  return mockPosts.filter(post => post.location?.cityId === cityId);
}

/**
 * è·å–æ¨èåŠ¨æ€ï¼ˆæ¨¡æ‹Ÿåˆ†é¡µï¼‰
 */
export function getRecommendPosts(page: number = 1, pageSize: number = 10): Post[] {
  const start = (page - 1) * pageSize;
  const end = start + pageSize;
  // å¾ªç¯è¿”å›æ•°æ®æ¨¡æ‹Ÿæ— é™æ»šåŠ¨
  const result: Post[] = [];
  for (let i = start; i < end; i++) {
    result.push(mockPosts[i % mockPosts.length]);
  }
  return result;
}

/**
 * å°†æ–°å‘å¸ƒçš„åŠ¨æ€æ’å…¥åˆ°åˆ—è¡¨å¤´éƒ¨
 */
export function addMockPost(newPost: Post): void {
  mockPosts.unshift(newPost);
}