# TraQuick 开发计划

> 项目名称：TraQuick (Travel + Quick)  
> 目标平台：HarmonyOS Next  
> 计划周期：8 周 (MVP)  
> 更新日期：2026年1月23日

---

## 📋 项目总览

### 核心目标
构建一款盲盒式旅行社交平台 MVP，包含完整的 5 Tab 导航结构和核心交互功能。

### 里程碑概览

| 阶段 | 周期 | 目标 | 状态 |
|------|------|------|------|
| Phase 1 | Week 1-2 | 项目架构 + 基础页面 | ✅ 已完成 |
| Phase 2 | Week 3-4 | 地图引擎 + 盲盒交互 | 🔄 进行中 |
| Phase 3 | Week 5-6 | 社区功能 + 内容发布 | ⏳ 待开始 |
| Phase 4 | Week 7 | 后端对接 + 数据打通 | ⏳ 待开始 |
| Phase 5 | Week 8 | 测试优化 + 鸿蒙特性 | ⏳ 待开始 |

---

## ✅ Phase 1: 项目架构与基础页面 (Week 1-2)

### 1.1 项目初始化 ✅
- [x] 创建 HarmonyOS 项目结构
- [x] 配置项目基础信息
- [x] 设计目录架构规范

### 1.2 设计系统 ✅
- [x] 颜色系统定义 (Constants.ets)
- [x] 字体规范定义
- [x] 间距规范定义
- [x] 圆角规范定义
- [x] 阴影规范定义

### 1.3 数据模型 ✅
- [x] User 用户模型
- [x] Post 动态模型
- [x] City 城市模型
- [x] Message 消息模型
- [x] 统一导出 Index

### 1.4 服务层 ✅
- [x] ApiService HTTP 封装
- [x] AuthService 认证服务
- [x] Storage 本地存储
- [x] MockData 测试数据

### 1.5 基础页面 ✅
- [x] Index 主 Tab 容器
- [x] LoginPage 登录页
- [x] RegisterPage 注册页
- [x] ExplorePage 探索页
- [x] CommunityPage 社区页
- [x] MessagePage 消息页
- [x] ProfilePage 个人中心
- [x] SettingsPage 设置页
- [x] PublishPostPage 发布页
- [x] CityDetailPage 城市详情
- [x] PostDetailPage 动态详情
- [x] DriftBottlePage 漂流瓶
- [x] TimeCapsulePage 时空胶囊

### 1.6 组件库 ✅
- [x] UserAvatar 头像组件
- [x] PostCard 动态卡片
- [x] CityCardDialog 城市弹窗
- [x] PublishSelectDialog 发布选择

### 1.7 路由配置 ✅
- [x] main_pages.json 页面注册
- [x] 页面间跳转逻辑

---

## 🔄 Phase 2: 地图引擎与盲盒交互 (Week 3-4)

### 2.1 华为 Map Kit 集成
- [ ] 申请 Map Kit 权限
- [ ] 3D 地球组件封装
- [ ] 地图手势交互（旋转、缩放）
- [ ] 相机视角控制

### 2.2 城市标记系统
- [ ] 城市标记点渲染
- [ ] 标记点点击交互
- [ ] 热门城市高亮
- [ ] 已点亮城市效果

### 2.3 迷雾效果
- [ ] 战争迷雾遮罩层
- [ ] 迷雾消散动画
- [ ] 重度迷雾区域

### 2.4 盲盒摇一摇
- [ ] 设备传感器监听
- [ ] 地球旋转动画
- [ ] 城市定位动画
- [ ] 卡片弹出效果

### 2.5 漂流瓶交互
- [ ] 漂流瓶地图展示
- [ ] 捡瓶子动画
- [ ] 投瓶子轨迹

---

## ⏳ Phase 3: 社区功能与内容发布 (Week 5-6)

### 3.1 社区内容优化
- [ ] 下拉刷新完善
- [ ] 上拉加载更多
- [ ] 视频流播放器
- [ ] 图片预览组件

### 3.2 内容发布完善
- [ ] 图片选择器
- [ ] 图片压缩上传
- [ ] 视频录制/选择
- [ ] 位置选择器
- [ ] 标签输入组件

### 3.3 互动功能
- [ ] 点赞动画效果
- [ ] 评论回复嵌套
- [ ] @提及功能
- [ ] 分享到其他应用

### 3.4 搜索功能
- [ ] 全局搜索页
- [ ] 城市搜索
- [ ] 用户搜索
- [ ] 内容搜索

---

## ⏳ Phase 4: 后端对接与数据打通 (Week 7)

### 4.1 后端服务搭建
- [ ] NestJS 项目初始化
- [ ] PostgreSQL 数据库设计
- [ ] Redis 缓存配置
- [ ] JWT 认证机制

### 4.2 API 接口开发
- [ ] 用户认证 API
- [ ] 动态 CRUD API
- [ ] 城市数据 API
- [ ] 消息系统 API
- [ ] 文件上传 API

### 4.3 前端对接
- [ ] 替换 Mock 数据
- [ ] 错误处理机制
- [ ] 加载状态优化
- [ ] 网络异常处理

### 4.4 数据同步
- [ ] 离线数据缓存
- [ ] 增量数据同步
- [ ] 冲突解决策略

---

## ⏳ Phase 5: 测试优化与鸿蒙特性 (Week 8)

### 5.1 性能优化
- [ ] 首屏加载优化 (< 2s)
- [ ] 列表滚动优化 (60fps)
- [ ] 图片懒加载
- [ ] 内存占用优化

### 5.2 测试覆盖
- [ ] 单元测试编写
- [ ] UI 自动化测试
- [ ] 接口测试
- [ ] 性能测试

### 5.3 鸿蒙特性
- [ ] 万能卡片 - 每日一签
- [ ] 万能卡片 - 行程胶囊
- [ ] 多端流转 (手机→平板)
- [ ] 手表抬腕摇一摇

### 5.4 发布准备
- [ ] 应用图标设计
- [ ] 应用截图准备
- [ ] 隐私政策编写
- [ ] 华为应用市场提交

---

## 📊 当前进度统计

| 模块 | 完成度 | 说明 |
|------|--------|------|
| 项目架构 | 100% | 目录结构、配置完成 |
| 设计系统 | 100% | 颜色、字体、间距规范 |
| 数据模型 | 100% | 所有模型定义完成 |
| 服务层 | 80% | Mock 数据完成，待对接真实 API |
| 页面开发 | 90% | 13 个页面完成 |
| 组件库 | 70% | 核心组件完成，待扩展 |
| 地图集成 | 0% | 待开始 |
| 后端服务 | 0% | 待开始 |
| 鸿蒙特性 | 0% | 待开始 |

**整体进度：约 45%**

---

## 🎯 下一步行动

### 本周重点 (Week 3)
1. 申请华为 Map Kit 开发权限
2. 创建 3D 地球组件原型
3. 实现基础手势交互
4. 研究城市标记点渲染方案

### 风险项
| 风险 | 影响 | 应对措施 |
|------|------|----------|
| Map Kit 审批延迟 | 地图功能延期 | 优先使用 2D 地图替代 |
| 3D 渲染性能问题 | 用户体验下降 | 优化模型精度、分级加载 |
| 后端开发资源不足 | 数据打通延期 | 优先完成核心 API |

---

## 📝 会议记录

### 2026-01-23 项目启动
- 完成 Phase 1 所有任务
- 代码审查通过，无语法错误
- 生成项目技术文档
- 制定后续开发计划

---

*计划持续更新中...*
